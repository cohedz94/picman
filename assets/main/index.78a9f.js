window.__require=function t(e,r,o){function n(c,a){if(!r[c]){if(!e[c]){var l=c.split("/");if(l=l[l.length-1],!e[l]){var p="function"==typeof __require&&__require;if(!a&&p)return p(l,!0);if(i)return i(l,!0);throw new Error("Cannot find module '"+c+"'")}c=l}var u=r[c]={exports:{}};e[c][0].call(u.exports,function(t){return n(e[c][1][t]||t)},u,u.exports,t,e,r,o)}return r[c].exports}for(var i="function"==typeof __require&&__require,c=0;c<o.length;c++)n(o[c]);return n}({game:[function(t,e,r){"use strict";cc._RF.push(e,"c9c33SefiFA35bjm8dcD27N","game");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(i<3?n(c):i>3?n(e,r,c):n(e,r))||c);return i>3&&c&&Object.defineProperty(e,r,c),c};Object.defineProperty(r,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,l=c.property,p=[1,2,3],u=p.concat([4,5]),s=["1_2","1_3","2_1","2_2","2_3","3_1","3_2","3_3","4_1","4_2","4_3","5_1","5_2","5_3"],f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e.map={"0_1":null},e}return n(e,t),e.prototype.start=function(){var t=this,e=cc.find("Canvas/template"),r=cc.find("Canvas/map");cc.resources.load("map",cc.SpriteAtlas,function(o,n){u.some(function(o){p.some(function(i){var c=o+"_"+i,a=n.getSpriteFrame(c),l="1_1"==c?"1_1":t.randomBlock();t.map[c]=l;var p=cc.instantiate(e);p.getComponent(cc.Sprite).spriteFrame=a,t.moveBlock(p,l),p.active=!0,p.currentPosition=l,p.name=c,r.addChild(p)})})})},e.prototype.moveBlock=function(t,e){var r=e.split("_"),o=r[0],n=r[1];t.x=(+n-Math.ceil(p.length/2))*t.width,t.y=(-o+u.length)*t.height},e.prototype.randomBlock=function(){var t=Math.floor(Math.random()*s.length),e=s[t];return s=s.filter(function(t){return t!==e}),e},e.prototype.onMove=function(t){var e=t.target.currentPosition,r=this.detectNewLocation(e);r&&(this.moveBlock(t.target,r),t.target.currentPosition=r,this.map[r]=t.target.name,this.map[e]=null);var o=this.checkIsComplete();console.log("===================================="),console.log(o,this.map),console.log("===================================="),o&&alert("Th\u1eafng r\u1ed3i! hihihihi")},e.prototype.checkIsComplete=function(){for(var t in this.map)if("0_1"!=t&&this.map[t]!==t)return!1;return!0},e.prototype.detectNewLocation=function(t){var e=t.split("_"),r=e[0],o=e[1],n=+r-1+"_"+o;if(null===this.map[n])return n;var i=r+"_"+(+o-1);if(null===this.map[i])return i;var c=+r+1+"_"+o;if(null===this.map[c])return c;var a=r+"_"+(+o+1);return null===this.map[a]?a:void 0},i([l(cc.Label)],e.prototype,"label",void 0),i([l],e.prototype,"text",void 0),i([a],e)}(cc.Component);r.default=f,cc._RF.pop()},{}]},{},["game"]);